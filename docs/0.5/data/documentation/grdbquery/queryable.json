{"seeAlsoSections":[{"title":"The @Query property wrapper","identifiers":["doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/GettingStarted","doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/QueryableParameters","doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Query","doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/QueryObservation"],"generated":true}],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Queryable"}],"title":"Queryable","roleHeading":"Protocol","role":"symbol","symbolKind":"protocol","externalID":"s:9GRDBQuery9QueryableP","modules":[{"name":"GRDBQuery"}],"navigatorTitle":[{"kind":"identifier","text":"Queryable"}]},"abstract":[{"type":"codeVoice","code":"Queryable"},{"type":"text","text":" types feed the the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Query"},{"type":"text","text":" property wrapper."}],"sections":[],"identifier":{"url":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable","interfaceLanguage":"swift"},"relationshipsSections":[{"identifiers":["doc:\/\/GRDBQuery\/SQ"],"kind":"relationships","title":"Inherits From","type":"inheritsFrom"}],"hierarchy":{"paths":[["doc:\/\/GRDBQuery\/documentation\/GRDBQuery"],["doc:\/\/GRDBQuery\/documentation\/GRDBQuery","doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/GettingStarted"]]},"topicSections":[{"title":"Associated Types","identifiers":["doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/DatabaseContext","doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/ValuePublisher","doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/Value"]},{"title":"Database Values","identifiers":["doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/defaultValue","doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/publisher(in:)"]}],"variants":[{"paths":["\/documentation\/grdbquery\/queryable"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Queryable"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"Equatable","preciseIdentifier":"s:SQ"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The role of a "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":" type is to build a Combine publisher of database"},{"type":"text","text":" "},{"type":"text","text":"values, with its "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/publisher(in:)"},{"type":"text","text":" method. The published values feed"},{"type":"text","text":" "},{"type":"text","text":"SwiftUI views that use the "},{"type":"codeVoice","code":"@Query"},{"type":"text","text":" property wrapper: each time a new value"},{"type":"text","text":" "},{"type":"text","text":"is published, the view updates accordingly."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":" type also provides a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/defaultValue"},{"type":"text","text":", which is displayed"},{"type":"text","text":" "},{"type":"text","text":"until the publisher publishes its initial value."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":" protocol inherits from the standard "},{"type":"codeVoice","code":"Equatable"},{"type":"text","text":" protocol so"},{"type":"text","text":" "},{"type":"text","text":"that SwiftUI views can configure the database values they display."},{"type":"text","text":" "},{"type":"text","text":"See "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/QueryableParameters"},{"type":"text","text":" for more information."}]},{"anchor":"Example","level":2,"type":"heading","text":"Example"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The sample code below defines "},{"type":"codeVoice","code":"PlayersRequest"},{"type":"text","text":", a "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":" type that"},{"type":"text","text":" "},{"type":"text","text":"publishes the list of players found in the database:"}]},{"type":"codeListing","syntax":"swift","code":["import Combine","import GRDB","import GRDBQuery","","\/\/\/ Tracks the full list of players","struct PlayersRequest: Queryable {","    static var defaultValue: [Player] { [] }","","    func publisher(in dbQueue: DatabaseQueue) -> AnyPublisher<[Player], Error> {","        ValueObservation","            .tracking { db in try Player.fetchAll(db) }","            .publisher(in: dbQueue, scheduling: .immediate)","            .eraseToAnyPublisher()","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This "},{"type":"codeVoice","code":"PlayersRequest"},{"type":"text","text":" type will automatically update a SwiftUI view on every"},{"type":"text","text":" "},{"type":"text","text":"database changes, when wrapped by the "},{"type":"codeVoice","code":"@Query"},{"type":"text","text":" property wrapper:"}]},{"type":"codeListing","syntax":"swift","code":["import GRDBQuery","import SwiftUI","","struct PlayerList: View {","    @Query(PlayersRequest())","    var players: [Player]","","    var body: some View {","        List(players) { player in ... }","    }","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For an explanation of how this works, and the required setup, please check"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/GettingStarted"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn how a SwiftUI view can configure a "},{"type":"codeVoice","code":"Queryable"},{"type":"text","text":" type, control the"},{"type":"text","text":" "},{"type":"text","text":"database values it displays, in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/QueryableParameters"},{"type":"text","text":"."}]}]}],"references":{"doc://GRDBQuery/documentation/GRDBQuery/Queryable/DatabaseContext":{"role":"symbol","title":"DatabaseContext","fragments":[{"kind":"keyword","text":"associatedtype"},{"kind":"text","text":" "},{"kind":"identifier","text":"DatabaseContext"}],"abstract":[{"type":"text","text":"The type that provides database access."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/DatabaseContext","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/grdbquery\/queryable\/databasecontext"},"doc://GRDBQuery/SQ":{"type":"unresolvable","title":"Swift.Equatable","identifier":"doc:\/\/GRDBQuery\/SQ"},"doc://GRDBQuery/documentation/GRDBQuery/QueryableParameters":{"role":"article","title":"Adding Parameters to Queryable Types","abstract":[{"type":"text","text":"Learn how SwiftUI views can configure the database content displayed on screen."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/QueryableParameters","kind":"article","type":"topic","url":"\/documentation\/grdbquery\/queryableparameters"},"doc://GRDBQuery/documentation/GRDBQuery/QueryObservation":{"role":"symbol","title":"QueryObservation","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"QueryObservation"}],"abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"QueryObservation"},{"type":"text","text":" controls when "},{"type":"codeVoice","code":"@Query"},{"type":"text","text":" property wrappers are observing"},{"type":"text","text":" "},{"type":"text","text":"their requests."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/QueryObservation","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"QueryObservation"}],"url":"\/documentation\/grdbquery\/queryobservation"},"doc://GRDBQuery/documentation/GRDBQuery/Queryable/Value":{"role":"symbol","title":"Queryable.Value","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"Value"}],"abstract":[{"type":"text","text":"The type of the published values."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/Value","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Value"}],"url":"\/documentation\/grdbquery\/queryable\/value"},"doc://GRDBQuery/documentation/GRDBQuery/Queryable/ValuePublisher":{"role":"symbol","title":"ValuePublisher","fragments":[{"kind":"keyword","text":"associatedtype"},{"kind":"text","text":" "},{"kind":"identifier","text":"ValuePublisher"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"Publisher","preciseIdentifier":"s:7Combine9PublisherP"}],"abstract":[{"type":"text","text":"The type of the Combine publisher of database values, returned"},{"type":"text","text":" "},{"type":"text","text":"from "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/publisher(in:)"},{"type":"text","text":"."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/ValuePublisher","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/grdbquery\/queryable\/valuepublisher"},"doc://GRDBQuery/documentation/GRDBQuery/GettingStarted":{"role":"collectionGroup","title":"Getting Started with @Query","abstract":[{"type":"text","text":"A step-by-step guide for using "},{"type":"codeVoice","code":"@Query"},{"type":"text","text":" in your SwiftUI application."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/GettingStarted","kind":"article","type":"topic","url":"\/documentation\/grdbquery\/gettingstarted"},"doc://GRDBQuery/documentation/GRDBQuery/Queryable/defaultValue":{"role":"symbol","title":"defaultValue","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"defaultValue"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Value"}],"abstract":[{"type":"text","text":"The default value, used until the Combine publisher publishes its"},{"type":"text","text":" "},{"type":"text","text":"initial value."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/defaultValue","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/grdbquery\/queryable\/defaultvalue"},"doc://GRDBQuery/documentation/GRDBQuery/Queryable":{"role":"symbol","title":"Queryable","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Queryable"}],"abstract":[{"type":"codeVoice","code":"Queryable"},{"type":"text","text":" types feed the the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Query"},{"type":"text","text":" property wrapper."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Queryable"}],"url":"\/documentation\/grdbquery\/queryable"},"doc://GRDBQuery/documentation/GRDBQuery/Query":{"role":"symbol","title":"Query","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Query"}],"abstract":[{"type":"text","text":"A property wrapper that subscribes to its "},{"type":"codeVoice","code":"Request"},{"type":"text","text":" (a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable"},{"type":"text","text":" "},{"type":"text","text":"type), and invalidates a SwiftUI view whenever the database values change."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Query","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Query"}],"url":"\/documentation\/grdbquery\/query"},"doc://GRDBQuery/documentation/GRDBQuery/Queryable/publisher(in:)":{"role":"symbol","title":"publisher(in:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"publisher"},{"kind":"text","text":"("},{"kind":"externalParam","text":"in"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"DatabaseContext"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Self"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"ValuePublisher"}],"abstract":[{"type":"text","text":"Returns a Combine publisher of database values."}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery\/Queryable\/publisher(in:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/grdbquery\/queryable\/publisher(in:)"},"doc://GRDBQuery/documentation/GRDBQuery":{"role":"collection","title":"GRDBQuery","abstract":[{"type":"text","text":"The SwiftUI companion for GRDB"}],"identifier":"doc:\/\/GRDBQuery\/documentation\/GRDBQuery","kind":"symbol","type":"topic","url":"\/documentation\/grdbquery"}}}